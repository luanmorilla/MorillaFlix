<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MorillaFlix</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <!-- ===== HEADER ===== -->
  <header>
    <h1 class="logo" aria-label="MorillaFlix">
      <span class="gorilla" aria-hidden="true">ğŸ¦</span>
      <span class="logo-text">MORILLALFLIX</span>
    </h1>
    <nav class="navbar" aria-label="NavegaÃ§Ã£o principal">
      <ul>
        <li><a href="#inicio" data-nav="inicio" class="active">InÃ­cio</a></li>
        <li><a href="#generos" data-nav="generos">GÃªneros</a></li>
        <li><a href="#favoritos" data-nav="favoritos">Favoritos</a></li>
        <li><a href="#sobre" data-nav="sobre">Sobre</a></li>
        <li><a href="#avaliacoes" data-nav="avaliacoes">AvaliaÃ§Ãµes</a></li>
        <li><button id="logout-btn" class="btn btn-outline">Sair</button></li>
      </ul>
    </nav>
  </header>

  <!-- ===== HERO ===== -->
  <section class="hero" id="inicio" aria-label="Destaque"></section>

  <!-- ===== HERO INFO ===== -->
  <section class="hero-info">
    <div class="hero-content">
      <h2 id="hero-title">Carregandoâ€¦</h2>
      <p id="hero-description">Deixe a IA te recomendar o filme perfeito ğŸ¬</p>
      <div class="hero-actions">
        <a id="hero-watch-btn" class="btn btn-primary" href="#" target="_blank" rel="noopener">ğŸ¬ Assistir agora</a>
        <button id="hero-trailer-btn" class="btn btn-outline">ğŸ¥ Ver Trailer</button>
      </div>
    </div>
  </section>

  <!-- ===== HUMOR ===== -->
  <section class="mood-section" aria-label="SugestÃµes por humor">
    <h3>ğŸ¯ Receba sugestÃµes pelo seu humor</h3>
    <p>Clique no seu estado de espÃ­rito e receba recomendaÃ§Ãµes automÃ¡ticas</p>
    <div class="mood-buttons">
      <button data-mood="animado">ğŸ˜ Animado</button>
      <button data-mood="triste">ğŸ˜¢ Triste</button>
      <button data-mood="assustado">ğŸ˜± Assustado</button>
      <button data-mood="romÃ¢ntico">ğŸ˜ RomÃ¢ntico</button>
      <button data-mood="entediado">ğŸ¥± Entediado</button>
    </div>
  </section>

  <!-- ===== PESQUISA ===== -->
  <section class="search-section" aria-label="Pesquisar por gÃªnero">
    <input id="search-input" type="text" placeholder="Digite o gÃªnero (AÃ§Ã£o, ComÃ©diaâ€¦)" />
    <div class="buttons">
      <button id="search-button" class="btn btn-primary">Buscar</button>
      <button id="surprise-button" class="btn btn-secondary">Surpreenda-me</button>
    </div>
  </section>

  <!-- ===== GÃŠNEROS ===== -->
  <section id="generos" class="generos-section" aria-label="Lista de gÃªneros">
    <h3>ğŸ­ Todos os GÃªneros</h3>
    <div id="generos-container" class="generos-container"></div>
  </section>

  <!-- ===== RESULTADOS ===== -->
  <section class="results-section" aria-label="Resultados">
    <h3>Top do momento</h3>
    <div id="results" class="results-grid"></div>
  </section>

  <!-- ===== SOBRE ===== -->
  <section id="sobre" class="sobre-section" aria-label="Sobre o MorillaFlix">
    <h3>ğŸ“½ï¸ Sobre</h3>
    <p>O MorillaFlix usa InteligÃªncia Artificial para interpretar seu humor e seus pedidos,
      transformando isso em gÃªneros e buscas na TMDb. Assim, vocÃª recebe recomendaÃ§Ãµes certeiras
      sem esforÃ§o.</p>
    <p>Projeto feito com â¤ï¸ para cinÃ©filos.</p>
  </section>

  <!-- ===== AVALIAÃ‡Ã•ES ===== -->
  <section id="avaliacoes" class="avaliacoes-section" aria-label="AvaliaÃ§Ãµes dos usuÃ¡rios">
    <h3>â­ AvaliaÃ§Ãµes dos UsuÃ¡rios</h3>
    <div class="avaliacao-form">
      <div class="star-rating" id="star-rating">
        <span data-value="1">â˜…</span>
        <span data-value="2">â˜…</span>
        <span data-value="3">â˜…</span>
        <span data-value="4">â˜…</span>
        <span data-value="5">â˜…</span>
      </div>
      <textarea id="comentario" placeholder="Deixe seu comentÃ¡rio..." maxlength="200"></textarea>
      <button id="enviar-avaliacao" class="btn btn-primary">Enviar AvaliaÃ§Ã£o</button>
    </div>
    <div class="avaliacoes-lista" id="avaliacoes-lista"></div>
  </section>

  <!-- ===== MODAL TRAILER ===== -->
  <div id="trailer-modal" class="trailer-modal" aria-hidden="true">
    <div class="trailer-content" role="dialog" aria-label="Trailer">
      <button id="close-modal" class="close-btn" aria-label="Fechar">Ã—</button>
      <iframe id="trailer-video" frameborder="0" allowfullscreen></iframe>
    </div>
  </div>

  <footer>Â© 2025 MorillaFlix</footer>

  <!-- ===== AUTH GUARD ===== -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
    import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBi5Uf5AmYUcWWvp3hSLceF6n-uePsQnNE",
      authDomain: "morillaflix.firebaseapp.com",
      projectId: "morillaflix",
      storageBucket: "morillaflix.firebasestorage.app",
      messagingSenderId: "697146608299",
      appId: "1:697146608299:web:4c22f0ec4fb744d4cd05ee",
      measurementId: "G-Z4PF8WJE48"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    // ğŸ”’ redireciona pra login se nÃ£o estiver logado
    onAuthStateChanged(auth, (user) => {
      if (!user) {
        location.replace("login.html");
      }
    });

    // ğŸ”“ botÃ£o sair
    document.getElementById("logout-btn").addEventListener("click", async () => {
      await signOut(auth);
      location.replace("login.html");
    });
  </script>

  <!-- ===== APP SCRIPT ===== -->
  <script type="module" src="script.js"></script>

</body>
</html>
